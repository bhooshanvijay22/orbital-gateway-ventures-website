<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Gateway Ventures - Your Gateway to the Cosmos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0f1f; /* Deep space blue */
            color: #e0e0e0;
        }
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2071&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .glass-effect {
            background: rgba(10, 15, 31, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .tab-active {
            color: #ffffff;
            border-bottom: 2px solid #3b82f6; /* Blue accent */
        }
        .tab-inactive {
            color: #9ca3af;
            border-bottom: 2px solid transparent;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        #debris-map-container {
            position: relative;
            width: 100%;
            height: 500px;
        }
        #debris-map {
            width: 100%;
            height: 100%;
            cursor: grab;
        }
        #debris-map:active {
            cursor: grabbing;
        }
        #loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.2rem;
            text-align: center;
            z-index: 10;
        }
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #3b82f6;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #0a0f1f;
            margin: 10% auto;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 80%;
            max-width: 600px;
            border-radius: 0.75rem;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }
        .image-container {
            position: relative;
        }
        .loader {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(10, 15, 31, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01M12 18v-1m0-1v-.01M12 20v-1m0-1V18m0 2.01M20 12h1m1 0h1m-1 0h-.01M4 12h1m1 0h1m-1 0h-.01M17.657 17.657l.707.707m1.414 0l.707-.707m-1.414 0l-.707.707m-12.02-12.02l.707.707m1.414 0l.707-.707m-1.414 0l-.707.707M6.343 17.657l-.707.707m-1.414 0l-.707-.707m1.414 0l.707.707m12.02-12.02l-.707.707m-1.414 0l-.707-.707m1.414 0l.707.707"></path></svg>
                <h1 class="text-xl font-bold text-white">Orbital Gateway Ventures</h1>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#services" class="text-gray-300 hover:text-white transition-colors">Services</a>
                <a href="#about" class="text-gray-300 hover:text-white transition-colors">Mission</a>
                <a href="#contact" class="text-gray-300 hover:text-white transition-colors">Contact</a>
            </nav>
            <a href="#contact" class="hidden md:block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg transition-colors">
                Begin Your Journey
            </a>
            <button id="mobile-menu-button" class="md:hidden text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#services" class="block py-2 text-gray-300 hover:text-white">Services</a>
             <a href="#about" class="block py-2 text-gray-300 hover:text-white">Mission</a>
             <a href="#contact" class="block py-2 text-gray-300 hover:text-white">Contact</a>
             <a href="#contact" class="block mt-2 text-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg">Begin Your Journey</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-bg min-h-screen flex items-center justify-center pt-20">
        <div class="text-center text-white bg-black bg-opacity-40 p-10 rounded-xl">
            <h2 class="text-5xl md:text-7xl font-black tracking-tight uppercase">Your Gateway to the Cosmos</h2>
            <p class="mt-4 max-w-3xl mx-auto text-lg md:text-xl text-gray-300">Pioneering the future of commerce, science, and exploration in Low Earth Orbit. We offer curated access to space for individuals and organizations.</p>
            <div class="mt-8">
                <a href="#services" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform hover:scale-105">Explore Our Services</a>
            </div>
        </div>
    </section>

    <main id="services" class="container mx-auto px-6 py-20">
        <!-- Service Tabs -->
        <div class="border-b border-gray-700 mb-12">
            <nav class="flex justify-center -mb-px space-x-6 md:space-x-12" aria-label="Tabs">
                <button data-tab="phase1" class="tab-btn whitespace-nowrap py-4 px-1 text-base font-medium transition-all duration-300 tab-active">
                    <span class="flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.428A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" /></svg>
                        <span>Space Tourism</span>
                    </span>
                </button>

                <button data-tab="phase2" class="tab-btn whitespace-nowrap py-4 px-1 text-base font-medium transition-all duration-300 tab-inactive">
                     <span class="flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm3 2h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v4h6v-4zm-8-2h1v2H5v-2z" clip-rule="evenodd" /></svg>
                        <span>The Gateway Hub</span>
                     </span>
                </button>

                <button data-tab="phase3" class="tab-btn whitespace-nowrap py-4 px-1 text-base font-medium transition-all duration-300 tab-inactive">
                    <span class="flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M11.918 11.22a1 1 0 011.414 1.414l-4.242 4.243a1 1 0 01-1.415-1.414l4.243-4.243z" /><path d="M13.332 9.806a1 1 0 010 1.414l-4.242 4.243a1 1 0 01-1.415-1.415l4.243-4.242a1 1 0 011.414 0z" /><path fill-rule="evenodd" d="M12.036 3.536a1 1 0 011.414 0l4.242 4.243a1 1 0 010 1.414l-4.242 4.243a1 1 0 01-1.414-1.414L14.586 9l-2.55-2.55a1 1 0 010-1.414zM6.036 9.536a1 1 0 011.414 0l4.242 4.243a1 1 0 010 1.414l-4.242 4.243a1 1 0 01-1.414-1.414L8.586 15l-2.55-2.55a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                        <span>Orbital Services</span>
                    </span>
                </button>
            </nav>
        </div>

        <!-- Phase 1: Space Tourism -->
        <section id="phase1" class="section active">
            <div class="text-center mb-12">
                <h3 class="text-4xl font-bold text-white">Become an Astronaut</h3>
                <p class="mt-2 text-lg text-gray-400 max-w-2xl mx-auto">Experience the profound beauty of Earth from orbit. Our all-inclusive package is the pinnacle of luxury adventure travel.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch">
                <!-- Card 1: The Experience -->
                <div class="glass-effect rounded-xl p-8 flex flex-col">
                    <img src="https://images.unsplash.com/photo-1454789548928-9efd52dc4031?q=80&w=2080&auto=format&fit=crop" alt="Earth from space" class="rounded-lg mb-4 h-40 object-cover">
                    <h4 class="text-2xl font-bold text-white mb-2">A Journey Beyond</h4>
                    <p class="text-gray-400 flex-grow">A 10-day mission to Low Earth Orbit. Witness 16 sunrises and sunsets a day, experience weightlessness, and see our planet from a perspective reserved for a select few.</p>
                </div>
                <!-- Card 2: Training -->
                <div class="glass-effect rounded-xl p-8 flex flex-col">
                    <img src="https://images.unsplash.com/photo-1541873676-a18131494184?q=80&w=2070&auto=format&fit=crop" alt="Astronaut training facility" class="rounded-lg mb-4 h-40 object-cover">
                    <h4 class="text-2xl font-bold text-white mb-2">Elite Preparation</h4>
                    <p class="text-gray-400 flex-grow">Comprehensive training with veteran astronauts. Covering everything from spacecraft systems and safety protocols to microgravity acclimatization.</p>
                </div>
                <!-- Card 3: Inquire -->
                <div class="bg-blue-900 bg-opacity-50 border border-blue-500 rounded-xl p-8 flex flex-col justify-center text-center">
                    <h4 class="text-3xl font-bold text-white mb-4">Missions Are Limited</h4>
                    <p class="text-gray-300 mb-6">Due to the exclusive nature of these flights, availability is extremely limited. Contact our mission specialists to begin your application process.</p>
                    <a href="#contact" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-transform hover:scale-105">Inquire About a Mission</a>
                </div>
            </div>
             <!-- Views from Orbit Section -->
            <div class="mt-20">
                <div class="text-center">
                    <h3 class="text-3xl font-bold text-white">Plan Your View from Orbit</h3>
                    <p class="mt-2 text-lg text-gray-400 max-w-2xl mx-auto">Preview the stunning views you'll experience, with imagery provided by NASA's open APIs.</p>
                </div>
                <div class="mt-8">
                    <!-- EPIC API Slideshow -->
                    <div class="glass-effect rounded-xl p-8 max-w-2xl mx-auto">
                        <h4 class="text-2xl font-bold text-white text-center mb-4">The Earth in Full View</h4>
                        <p class="text-center text-sm text-gray-400 mb-4">Full-disk images from NASA's EPIC instrument, a million miles away.</p>
                        <div id="epic-image-container" class="image-container">
                             <img id="epic-image" src="https://placehold.co/600x600/0a0f1f/FFF?text=Loading..." alt="Satellite view of Earth" class="rounded-lg object-cover w-full h-auto aspect-square bg-gray-800">
                             <div id="epic-loader" class="loader opacity-100">
                                <div class="spinner"></div>
                             </div>
                        </div>
                        <p id="epic-caption" class="text-center text-gray-400 mt-4 h-6"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Phase 2: The Gateway Hub -->
        <section id="phase2" class="section">
            <div class="text-center mb-12">
                <h3 class="text-4xl font-bold text-white">The Gateway: Your Platform in Orbit</h3>
                <p class="mt-2 text-lg text-gray-400 max-w-3xl mx-auto">A modular, multi-purpose commercial hub. We offer leasing for docking ports, module space, and research facilities to commercial and governmental partners.</p>
            </div>
            <!-- ... existing cards ... -->
             <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                 <!-- Card 1: Research Leasing -->
                <div class="glass-effect rounded-xl p-8">
                    <h4 class="text-2xl font-bold text-white mb-2">Microgravity Research</h4>
                    <p class="text-gray-400 mb-4">Lease dedicated module space for experiments in biology, material science, and astrophysics. Benefit from a state-of-the-art orbital laboratory.</p>
                    <a href="#contact" class="font-semibold text-blue-400 hover:text-blue-300">Request Technical Specs &rarr;</a>
                </div>
                 <!-- Card 2: Commercial Leasing -->
                <div class="glass-effect rounded-xl p-8">
                    <h4 class="text-2xl font-bold text-white mb-2">Commercial Modules</h4>
                    <p class="text-gray-400 mb-4">Secure a permanent or temporary orbital presence for your company. Ideal for technology testbeds, in-space manufacturing, or remote sensing applications.</p>
                     <a href="#contact" class="font-semibold text-blue-400 hover:text-blue-300">Lease a Module &rarr;</a>
                </div>
                 <!-- Card 3: Docking Services -->
                <div class="glass-effect rounded-xl p-8">
                    <h4 class="text-2xl font-bold text-white mb-2">Docking & Logistics</h4>
                    <p class="text-gray-400 mb-4">Utilize our standardized docking ports for your spacecraft. We provide a reliable connection point for resupply missions or crewed vehicles.</p>
                    <a href="#contact" class="font-semibold text-blue-400 hover:text-blue-300">Reserve a Port &rarr;</a>
                </div>
            </div>

            <!-- New Section: Explore Research Fields -->
            <div class="mt-20 text-center">
                <h3 class="text-3xl font-bold text-white">Explore Proven Research Fields</h3>
                <p class="mt-2 text-lg text-gray-400 max-w-2xl mx-auto">Our platform supports a wide range of scientific inquiry, building on decades of research from the ISS and other missions, cataloged in NASA's open data portals.</p>
                <div class="mt-8 grid md:grid-cols-3 gap-6">
                    <button class="research-card glass-effect hover:border-blue-500 border-2 border-transparent p-6 rounded-xl transition" data-field="materials">
                        <h4 class="text-xl font-bold">Material Science</h4>
                        <p class="text-gray-400 mt-2">Developing new alloys and crystals in a microgravity environment.</p>
                    </button>
                    <button class="research-card glass-effect hover:border-blue-500 border-2 border-transparent p-6 rounded-xl transition" data-field="biology">
                        <h4 class="text-xl font-bold">Biology & Medicine</h4>
                        <p class="text-gray-400 mt-2">Studying cellular processes and protein crystallization for drug development.</p>
                    </button>
                    <button class="research-card glass-effect hover:border-blue-500 border-2 border-transparent p-6 rounded-xl transition" data-field="earth">
                        <h4 class="text-xl font-bold">Earth Observation</h4>
                        <p class="text-gray-400 mt-2">Leveraging a unique vantage point for climate and atmospheric studies.</p>
                    </button>
                </div>
            </div>
        </section>

        <!-- Phase 3: Orbital Services -->
        <section id="phase3" class="section">
            <div class="text-center mb-12">
                <h3 class="text-4xl font-bold text-white">Guardians of the Orbit</h3>
                <p class="mt-2 text-lg text-gray-400 max-w-3xl mx-auto">Leveraging our Gateway infrastructure, we provide critical environmental and logistical services to ensure the sustainability of space operations. Explore the live orbital environment below.</p>
            </div>
            <div class="grid lg:grid-cols-3 gap-8 items-start">
                 <div class="lg:col-span-2 glass-effect rounded-xl p-4">
                    <div id="debris-map-container">
                        <div id="debris-map"></div>
                        <div id="loading-indicator">
                            <div class="spinner"></div>
                            <p>Initializing Visualization...</p>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-1 space-y-4">
                    <div id="debris-analysis-panel" class="glass-effect rounded-xl p-6">
                        <h4 class="text-xl font-bold text-white mb-2">LEO Environment Analysis</h4>
                        <p class="text-sm text-gray-400 mb-4">Based on NASA ODPO Models</p>
                        <p class="text-xs text-yellow-300 italic mb-4">Note: This visualization is a conceptual simulation and does not represent real-time debris data.</p>
                        <div id="debris-stats">
                            <!-- Populated by script -->
                        </div>
                    </div>
                    <div class="glass-effect rounded-xl p-6">
                        <h4 class="text-xl font-bold text-white mb-2">Debris Removal Service</h4>
                        <p class="text-gray-400 text-sm mb-4">We actively de-orbit high-risk objects to protect critical infrastructure.</p>
                        <a href="#contact" class="font-semibold text-blue-400 hover:text-blue-300">Request a Quote &rarr;</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Mission/About Section -->
    <section id="about" class="py-20 bg-gray-900 bg-opacity-50">
        <!-- ... existing content ... -->
        <div class="container mx-auto px-6 text-center">
            <h3 class="text-4xl font-bold text-white">Our Phased Approach to Space</h3>
            <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-300">We believe in sustainable growth. Our business is built on a scalable, multi-phase model that ensures profitability at each stage while building towards a resilient and diversified future in space.</p>
            <div class="mt-12 grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="p-6">
                    <h4 class="text-xl font-bold text-white">Scalability</h4>
                    <p class="mt-2 text-gray-400">Start with a service-based model, using profits to fund our own infrastructure.</p>
                </div>
                 <div class="p-6">
                    <h4 class="text-xl font-bold text-white">Profitability</h4>
                    <p class="mt-2 text-gray-400">Each phase is a self-sustaining business, reducing reliance on speculative investment.</p>
                </div>
                 <div class="p-6">
                    <h4 class="text-xl font-bold text-white">Diversified Risk</h4>
                    <p class="mt-2 text-gray-400">Three distinct revenue streams create a resilient and robust enterprise.</p>
                </div>
                 <div class="p-6">
                    <h4 class="text-xl font-bold text-white">Sustainability</h4>
                    <p class="mt-2 text-gray-400">Making debris removal profitable creates a commercial incentive to keep space clean.</p>
                </div>
            </div>
        </div>
         <!-- New Section: Market Validation -->
        <div class="container mx-auto px-6 text-center mt-20">
            <h3 class="text-3xl font-bold text-white">Market Validation & Credibility</h3>
            <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-300">Our strategy is aligned with key industry trends and economic forecasts identified in leading publications, including those cataloged by NASA's own research on space commercialization.</p>
            <blockquote class="mt-8 max-w-2xl mx-auto text-gray-400 italic border-l-4 border-blue-500 pl-6">
                "The Low Earth Orbit economy is poised for exponential growth, moving from a government-led paradigm to a vibrant, multi-faceted commercial marketplace. Key sectors include in-space manufacturing, satellite servicing, and private astronaut missions."
            </blockquote>
             <p class="mt-4 text-sm text-gray-500">Paraphrased insights from commercial space industry analysis.</p>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20">
        <div class="container mx-auto px-6">
            <div class="text-center">
                <h3 class="text-4xl font-bold text-white">Begin Your Journey With Us</h3>
                <p class="mt-2 text-lg text-gray-400 max-w-2xl mx-auto">Whether you're an individual seeking the ultimate adventure or an organization with ambitious orbital goals, our team is ready to assist.</p>
            </div>
            <div class="mt-12 max-w-3xl mx-auto glass-effect rounded-xl p-8">
                <form id="contact-form">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-300">Full Name</label>
                            <input type="text" id="name" required class="mt-1 block w-full bg-gray-900 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-300">Email Address</label>
                            <input type="email" id="email" required class="mt-1 block w-full bg-gray-900 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                    </div>
                    <div class="mt-6">
                         <label for="interest" class="block text-sm font-medium text-gray-300">Primary Interest</label>
                         <select id="interest" class="mt-1 block w-full bg-gray-900 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            <option>Space Tourism (Individual)</option>
                            <option>Gateway Hub Leasing (Commercial/Gov)</option>
                            <option>Orbital Services (Debris/Servicing)</option>
                            <option>General Inquiry</option>
                         </select>
                    </div>
                    <div class="mt-6">
                        <label for="message" class="block text-sm font-medium text-gray-300">Message</label>
                        <textarea id="message" rows="4" required class="mt-1 block w-full bg-gray-900 border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"></textarea>
                    </div>
                    <div class="mt-8 text-right">
                        <button type="submit" id="submit-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors w-full sm:w-auto">
                            Send Inquiry
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 bg-opacity-50 border-t border-gray-800">
        <div class="container mx-auto px-6 py-8 text-center text-gray-400">
            <p>&copy; 2025 Orbital Gateway Ventures. All Rights Reserved.</p>
            <p class="text-sm mt-2">Pioneering the next frontier, responsibly.</p>
        </div>
    </footer>

    <!-- Research Modal -->
    <div id="research-modal" class="modal">
      <div class="modal-content glass-effect">
        <span class="close-button">&times;</span>
        <h3 id="modal-title" class="text-2xl font-bold text-white mb-4">Research Field</h3>
        <p id="modal-description" class="text-gray-300"></p>
        <img id="modal-image" src="" alt="Research image" class="mt-4 rounded-lg w-full h-auto">
      </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Global Vars ---
            const tabs = document.querySelectorAll('.tab-btn');
            const sections = document.querySelectorAll('.section');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            // --- Event Listeners ---
            // Tab functionality
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.getAttribute('data-tab');
                    tabs.forEach(t => t.classList.replace('tab-active', 'tab-inactive'));
                    tab.classList.replace('tab-inactive', 'tab-active');
                    sections.forEach(section => {
                        section.classList.toggle('active', section.id === target);
                    });
                    // Initialize map only when tab is clicked for the first time
                    if (target === 'phase3' && !mapInitialized) initDebrisMap();
                });
            });

            // Mobile menu toggle
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            mobileMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'A') mobileMenu.classList.add('hidden');
            });
            
            // --- Contact Form Logic ---
            const contactForm = document.getElementById('contact-form');
            const submitButton = document.getElementById('submit-button');
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault(); // Prevent page reload
                
                const originalButtonText = submitButton.innerHTML;
                submitButton.disabled = true;
                submitButton.innerHTML = `<span class="flex items-center justify-center">Sending...</span>`;

                // Simulate a network request
                setTimeout(() => {
                    submitButton.innerHTML = `Message Sent!`;
                    contactForm.reset(); // Clear all form fields
                    
                    // Revert button back to original state after a few seconds
                    setTimeout(() => {
                        submitButton.innerHTML = originalButtonText;
                        submitButton.disabled = false;
                    }, 3000);
                }, 1500);
            });

            // --- Phase 1: Image Slideshows ---
            // Slideshow 1: NASA EPIC API
            const epicImage = document.getElementById('epic-image');
            const epicLoader = document.getElementById('epic-loader');
            const epicCaption = document.getElementById('epic-caption');
            let epicSlideshowInterval;

            async function startEpicSlideshow() {
                if (epicSlideshowInterval) clearInterval(epicSlideshowInterval);
                epicLoader.style.opacity = '1';
                try {
                    // Using a CORS proxy to prevent potential browser restrictions
                    const response = await fetch('https://api.allorigins.win/raw?url=https://epic.gsfc.nasa.gov/api/natural');
                    if (!response.ok) throw new Error('Network response was not ok for EPIC API');
                    const images = await response.json();
                    if (images.length === 0) throw new Error('No EPIC images found');

                    let currentIndex = 0;
                    const showNextImage = () => {
                        epicLoader.style.opacity = '1';
                        const imageInfo = images[currentIndex];
                        const date = new Date(imageInfo.date);
                        const year = date.getFullYear();
                        const month = String(date.getMonth() + 1).padStart(2, '0');
                        const day = String(date.getDate()).padStart(2, '0');
                        const imageUrl = `https://epic.gsfc.nasa.gov/archive/natural/${year}/${month}/${day}/png/${imageInfo.image}.png`;
                        
                        epicImage.src = imageUrl;
                        epicImage.onload = () => {
                            epicCaption.textContent = `Image captured on: ${date.toLocaleDateString()}`;
                            epicLoader.style.opacity = '0';
                        };
                        epicImage.onerror = () => {
                           // If one image fails, just try the next one in the sequence
                           currentIndex = (currentIndex + 1) % images.length;
                           showNextImage();
                        };
                        currentIndex = (currentIndex + 1) % images.length;
                    };
                    showNextImage();
                    epicSlideshowInterval = setInterval(showNextImage, 5000);
                } catch (error) {
                    console.error("Failed to fetch EPIC images:", error);
                    epicImage.src = 'https://placehold.co/600x600/0a0f1f/FFF?text=Service+Unavailable';
                    epicCaption.textContent = 'Could not load EPIC images.';
                    epicLoader.style.opacity = '0';
                }
            }

            // Slideshow 2: NASA GIBS API
            const gibsImage = document.getElementById('gibs-image');
            const gibsLoader = document.getElementById('gibs-loader');
            const gibsCaption = document.getElementById('gibs-caption');
            let gibsSlideshowInterval;
            
            const gibsLocations = [
                { name: 'Grand Canyon, USA', bbox: "-112.5,36.0,-112.0,36.5" },
                { name: 'Italian Alps', bbox: "10.5,46.5,11.0,47.0" },
                { name: 'Great Barrier Reef, Australia', bbox: "148.0,-19.0,150.0,-21.0" },
                { name: 'Richat Structure, Mauritania', bbox: "-11.5,21.0,-11.0,21.5" },
                { name: 'Lena River Delta, Russia', bbox: "125.0,72.0,130.0,74.0" }
            ];

            function startGibsSlideshow() {
                if (gibsSlideshowInterval) clearInterval(gibsSlideshowInterval);
                let currentIndex = 0;
                
                // Using a hardcoded, known-good date for reliability
                const dateStr = "2024-07-20";
                
                const showNextImage = () => {
                    gibsLoader.style.opacity = '1';
                    const location = gibsLocations[currentIndex];
                    const layer = 'VIIRS_SNPP_CorrectedReflectance_TrueColor';
                    
                    const imageUrl = `https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi?SERVICE=WMS&REQUEST=GetMap&LAYERS=${layer}&BBOX=${location.bbox}&WIDTH=600&HEIGHT=600&CRS=EPSG:4326&FORMAT=image/jpeg&TIME=${dateStr}`;

                    gibsImage.src = imageUrl;
                    gibsImage.onload = () => {
                        gibsCaption.textContent = `View of: ${location.name}`;
                        gibsLoader.style.opacity = '0';
                    };
                    gibsImage.onerror = () => {
                        gibsImage.src = `https://placehold.co/600x600/0a0f1f/FFF?text=Error`;
                        gibsCaption.textContent = `Could not load: ${location.name}`;
                        gibsLoader.style.opacity = '0';
                    };

                    currentIndex = (currentIndex + 1) % gibsLocations.length;
                };

                showNextImage(); // Show the first image immediately
                gibsSlideshowInterval = setInterval(showNextImage, 5000); // Then cycle every 5 seconds
            }

            // Start both slideshows when the page loads
            startEpicSlideshow();
            // startGibsSlideshow();


            // --- Phase 2: Research Modal ---
            const researchModal = document.getElementById('research-modal');
            const researchCards = document.querySelectorAll('.research-card');
            const researchData = {
                materials: {
                    title: 'Material Science in Microgravity',
                    description: 'The absence of sedimentation and convection in orbit allows for the creation of perfectly structured alloys and protein crystals. Data from NASA portals show past experiments on the ISS have led to breakthroughs in fiber optics and semiconductor manufacturing.',
                    image: 'https://images.unsplash.com/photo-1518314916381-77a37c2a49ae?q=80&w=2071&auto=format&fit=crop'
                },
                biology: {
                    title: 'Biology & Medical Advancements',
                    description: 'Studying cellular and molecular processes without the influence of gravity provides invaluable insights into human health, disease progression (like osteoporosis), and aging. NASA\'s GeneLab open data repository is a key resource for this research.',
                    image: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=2070&auto=format&fit=crop'
                },
                earth: {
                    title: 'Advanced Earth Observation',
                    description: 'The Gateway provides an ideal, stable platform for next-generation sensors. Leveraging datasets from NASA\'s Earthdata, clients can conduct advanced studies on climate patterns, deforestation, and atmospheric chemistry with unprecedented clarity.',
                    image: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop'
                }
            };
            researchCards.forEach(card => card.addEventListener('click', () => {
                const field = card.dataset.field;
                document.getElementById('modal-title').innerText = researchData[field].title;
                document.getElementById('modal-description').innerText = researchData[field].description;
                document.getElementById('modal-image').src = researchData[field].image;
                researchModal.style.display = 'block';
            }));
            document.querySelector('.close-button').addEventListener('click', () => researchModal.style.display = 'none');
            window.addEventListener('click', (event) => {
                if (event.target == researchModal) researchModal.style.display = 'none';
            });

            // --- 3D Debris Map Logic ---
            let scene, camera, renderer, controls, earth, debrisField;
            let mapInitialized = false;
            
            function initDebrisMap() {
                if (mapInitialized) return;
                mapInitialized = true;

                const container = document.getElementById('debris-map');
                const loadingIndicator = document.getElementById('loading-indicator');
                
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
                camera.position.z = 15;
                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setSize(container.clientWidth, container.clientHeight);
                renderer.setPixelRatio(window.devicePixelRatio);
                container.appendChild(renderer.domElement);
                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.minDistance = 8;
                controls.maxDistance = 50;
                
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
                scene.add(ambientLight);
                const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
                directionalLight.position.set(5, 3, 5);
                scene.add(directionalLight);
                
                const earthTextureUrl = 'https://eoimages.gsfc.nasa.gov/images/imagerecords/73000/73909/world.topo.bathy.200412.3x5400x2700.jpg';

                const textureLoader = new THREE.TextureLoader();
                const earthTexture = textureLoader.load(earthTextureUrl);
                const earthMaterial = new THREE.MeshStandardMaterial({ map: earthTexture });
                const earthGeometry = new THREE.SphereGeometry(5, 64, 64);
                earth = new THREE.Mesh(earthGeometry, earthMaterial);
                scene.add(earth);
                
                // Create a conceptual debris field with random points
                const debrisVertices = [];
                const debrisCount = 5000;
                const innerRadius = 5.5;
                const outerRadius = 8.0;

                for (let i = 0; i < debrisCount; i++) {
                    const theta = Math.random() * 2 * Math.PI;
                    const phi = Math.acos(2 * Math.random() - 1);
                    const radius = innerRadius + Math.random() * (outerRadius - innerRadius);

                    const x = radius * Math.sin(phi) * Math.cos(theta);
                    const y = radius * Math.sin(phi) * Math.sin(theta);
                    const z = radius * Math.cos(phi);
                    
                    debrisVertices.push(x, y, z);
                }
                
                const debrisGeometry = new THREE.BufferGeometry();
                debrisGeometry.setAttribute('position', new THREE.Float32BufferAttribute(debrisVertices, 3));
                const debrisMaterial = new THREE.PointsMaterial({ size: 0.02, color: 0xaaaaaa });
                debrisField = new THREE.Points(debrisGeometry, debrisMaterial);
                scene.add(debrisField);

                document.getElementById('debris-stats').innerHTML = `
                    <p>This simulation visualizes thousands of conceptual debris objects.</p>
                    <p class="mt-2 text-sm">Real-world tracked objects: <span class="font-bold text-white">>27,000</span></p>
                    <p class="mt-2 text-sm">Estimated untrackable fragments: <span class="font-bold text-white">>100 Million</span></p>
                    <p class="mt-2 text-sm">Primary Risk: <span class="font-bold text-white">Collision Cascade</span></p>
                `;

                loadingIndicator.style.display = 'none';

                function animate() {
                    requestAnimationFrame(animate);
                    controls.update();
                    earth.rotation.y += 0.0005;
                    renderer.render(scene, camera);
                }
                animate();

                window.addEventListener('resize', () => {
                    if (!renderer || !camera) return;
                    camera.aspect = container.clientWidth / container.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(container.clientWidth, container.clientHeight);
                });
            }
        });
    </script>
</body>
</html>



